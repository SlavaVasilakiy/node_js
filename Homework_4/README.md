# REST API для Управления Пользователями

Этот код реализует REST API для управления пользователями. Он предоставляет следующие функции:

- Получение всех пользователей.
- Получение пользователя по id.
- Создание пользователя.
- Обновление пользователя.
- Удаление пользователя.

### Основные функции

- `getUsers()`: Считывает массив пользователей из файла `users.json` и возвращает его.
- `getUserById(id)`: Получает пользователя по id из массива пользователей.
- `createUser(userData)`: Добавляет нового пользователя в массив пользователей.
- `updateUser(id, userData)`: Обновляет пользователя в массиве пользователей.
- `deleteUser(id)`: Удаляет пользователя из массива пользователей.
- `saveUsers()`: Записывает массив пользователей в файл `users.json`.

### Использование Express

Код также использует модуль `express` для создания сервера HTTP. Сервер слушает порт 3000 и обрабатывает запросы к API.

Примеры URL-адресов и соответствующих функций:

- `http://localhost:3000/users`: `getAllUsers()`
- `http://localhost:3000/users/<user_id>`: `getUserById()`
- `http://localhost:3000/users` (POST-запрос): `createUser()`
- `http://localhost:3000/users/<user_id>` (PUT-запрос): `updateUser()`
- `http://localhost:3000/users/<user_id>` (DELETE-запрос): `deleteUser()`

### Дополнительные особенности:

- Используется модуль fs для работы с файлами.
- Для генерации уникальных идентификаторов пользователей используется модуль uuid.
- Ошибки чтения и записи файла обрабатываются с выводом сообщений об ошибке.
- Добавлена валидация данных при создании нового пользователя с использованием библиотеки Joi. Введена схема
  createUserSchema, которая определяет требования к данным (имя и электронная почта). При создании нового пользователя
  данные проверяются на соответствие этой схеме, и в случае ошибки валидации возвращается статус 400 (Bad Request) с
  сообщением об ошибке.

### Примеры исползования

#### Запуск сервера

`node app.js`

1. Получение списка всех пользователей:

- `curl http://localhost:3000/users`

2. Получение пользователя по ID (замени <user_id> на фактический ID пользователя)

- `curl http://localhost:3000/users/<user_id>`

3. Создание нового пользователя с уникальным id:

- `curl -X POST -H "Content-Type: application/json" -d '{"name": "New User", "email": "new.user@example.com"}' http://localhost:3000/users`

4. Обновление пользователя по ID (замени <user_id> на фактический ID пользователя):

- `curl -X PUT -H "Content-Type: application/json" -d '{"name": "Updated User", "email": "updated.user@example.com"}' http://localhost:3000/users/<user_id>`

5. Удаление пользователя по ID (замени <user_id> на фактический ID пользователя):

- `curl -X DELETE http://localhost:3000/users/<user_id>`